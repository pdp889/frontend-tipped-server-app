(this["webpackJsonptipped-server-frontend"]=this["webpackJsonptipped-server-frontend"]||[]).push([[1],{17:function(e,t,n){},24:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(18),s=n.n(c),o=n(9),i=n(5),u=n(2),l=(n(24),n(0));var d=function(e){var t=function(){sessionStorage.clear(),e.setToken("")},n=Object(r.useState)(!1),a=Object(u.a)(n,2),c=a[0],s=a[1],i=function(){s(!c)};return c?Object(l.jsx)("div",{children:Object(l.jsxs)("div",{className:"dropdown",children:[Object(l.jsx)("button",{className:"btn btn-primary dropdown-toggle w-100 dropdown-button",onClick:i,children:"Hide Menu"}),Object(l.jsx)(o.b,{to:"/",children:Object(l.jsx)("div",{className:"text-white header-button btn-primary dropdown-button",children:"Home"})}),Object(l.jsx)(o.b,{to:"/jobs",children:Object(l.jsx)("div",{className:"text-white header-button btn-primary dropdown-button",children:"View Jobs"})}),Object(l.jsx)(o.b,{to:"/addRecord",children:Object(l.jsx)("div",{className:"text-white header-button btn-primary dropdown-button",children:"Add Record"})}),Object(l.jsx)(o.b,{to:"/stats-search",children:Object(l.jsx)("div",{className:"text-white header-button btn-primary dropdown-button",children:"Search Stats"})}),Object(l.jsx)(o.b,{to:"/myRecords",children:Object(l.jsx)("div",{className:"text-white header-button btn-primary dropdown-button",children:"My Records"})}),Object(l.jsx)("div",{className:"text-white header-button btn-primary dropdown-button",onClick:t,children:"Log Out"})]})}):Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"d-flex justify-content-around bg-primary align-items-center",id:"header-shown",children:[Object(l.jsx)(o.b,{to:"/",children:Object(l.jsx)("div",{className:"text-white header-button",children:"Home"})}),Object(l.jsx)(o.b,{to:"/jobs",children:Object(l.jsx)("div",{className:"text-white header-button",children:"View Jobs"})}),Object(l.jsx)(o.b,{to:"/addRecord",children:Object(l.jsx)("div",{className:"text-white header-button",children:"Add Record"})}),Object(l.jsx)(o.b,{to:"/stats-search",children:Object(l.jsx)("div",{className:"text-white header-button",children:"Search Stats"})}),Object(l.jsx)(o.b,{to:"/myRecords",children:Object(l.jsx)("div",{className:"text-white header-button",children:"My Records"})}),Object(l.jsx)("div",{className:"text-white header-button logout",onClick:t,children:"Log Out"})]}),Object(l.jsx)("div",{children:Object(l.jsx)("div",{className:"dropdown hidden",children:Object(l.jsx)("button",{className:"btn btn-primary dropdown-toggle w-100 dropdown-button",onClick:i,children:"Show Menu"})})})]})},j=n(3),h=n.n(j),p=n(4);n(35);var b=function(e){Object(r.useEffect)((function(){E()}),[e]);var t=Object(r.useState)(""),n=Object(u.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(""),o=Object(u.a)(s,2),i=o[0],d=o[1],j=Object(r.useState)(""),b=Object(u.a)(j,2),m=b[0],f=b[1],x=Object(r.useState)(""),O=Object(u.a)(x,2),v=O[0],g=O[1],y=Object(r.useState)(""),N=Object(u.a)(y,2),k=N[0],w=N[1],S=Object(r.useState)([]),C=Object(u.a)(S,2),T=C[0],R=C[1],z=Object(r.useState)([]),A=Object(u.a)(z,2),F=A[0],P=A[1],E=function(){var t=Object(p.a)(h.a.mark((function t(){var n,r,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://tipped-server-app.herokuapp.com/api/createPay",{method:"GET",headers:{Authorization:"Bearer "+e.token}});case 2:return n=t.sent,t.next=5,n.json();case 5:r=t.sent,c(r.title),a=[],Array.from(r.restaurants).forEach((function(e){var t={id:e._id,zip:e.zip_code,name:e.name,price:e.entree_price};a.push(t)})),R(a),w(a[0].id);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),B=function(t){t.preventDefault(),function(){var t={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.token},body:JSON.stringify({hourly_pay:i,weekly_tips:m,weekly_hours:v,restaurant:k})};fetch("https://tipped-server-app.herokuapp.com/api/createPay",t).then((function(e){return e.json()})).then((function(e){if(void 0!==e.errors){var t=Array.from(e.errors),n=[];t.forEach((function(e){n.push(e.msg+"; ")})),P(n)}else alert("success!"),d(""),g(""),f(""),P([]);return e}))}()};return Object(l.jsxs)("div",{className:"card custom-column-50 custom-height-75 padding-10-px",children:[Object(l.jsx)("div",{children:Object(l.jsxs)("form",{onSubmit:function(e){B(e)},children:[Object(l.jsx)("h1",{className:"section-header",children:a}),Object(l.jsx)("label",{htmlFor:"hourly",children:"Hourly"}),Object(l.jsx)("input",{onChange:function(e){return d(e.target.value)},type:"number",name:"hourly",className:"form-control",autoComplete:"off",min:"1",value:i}),Object(l.jsx)("label",{htmlFor:"weekly tips",children:"Weekly Tips"}),Object(l.jsx)("input",{onChange:function(e){return f(e.target.value)},type:"number",name:"weekly tips",className:"form-control",autoComplete:"off",min:"1",value:m}),Object(l.jsx)("label",{htmlFor:"weekly hours",children:"Weekly Hours"}),Object(l.jsx)("input",{onChange:function(e){return g(e.target.value)},type:"number",name:"weekly hours",className:"form-control",autoComplete:"off",min:"1",value:v}),Object(l.jsx)("label",{htmlFor:"restaurant",children:"Restaurant"}),Object(l.jsx)("select",{name:"restaurant",className:"form-select",onChange:function(e){w(e.target.value)},children:T.map((function(e,t){return Object(l.jsxs)("option",{value:e.id,children:[e.name," | ",e.zip]},t)}))}),Object(l.jsx)("input",{type:"submit",className:"btn btn-primary record-submit",value:"Add Pay Record"})]})}),Object(l.jsx)("div",{children:F})]})};var m=function(e){Object(r.useEffect)((function(){z()}),[]);var t=Object(r.useState)(""),n=Object(u.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)([]),o=Object(u.a)(s,2),i=o[0],d=o[1],j=Object(r.useState)("51501"),b=Object(u.a)(j,2),m=b[0],f=b[1],x=Object(r.useState)(""),O=Object(u.a)(x,2),v=O[0],g=O[1],y=Object(r.useState)(1),N=Object(u.a)(y,2),k=N[0],w=N[1],S=Object(r.useState)(null),C=Object(u.a)(S,2),T=C[0],R=C[1],z=function(){var t=Object(p.a)(h.a.mark((function t(){var n,r,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://tipped-server-app.herokuapp.com/api/createRestaurant",{method:"GET",headers:{Authorization:"Bearer "+e.token}});case 2:return n=t.sent,t.next=5,n.json();case 5:r=t.sent,a=r.zips.sort((function(e,t){return e<t?-1:e>t?1:0})),d(a),c(r.title);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),A=function(t){t.preventDefault(),function(){var t={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.token},body:JSON.stringify({zip_code:m,name:v,entree_price:k})};fetch("https://tipped-server-app.herokuapp.com/api/createRestaurant",t).then((function(e){return e.json()})).then((function(t){if(void 0!=t.errors){var n=Array.from(t.errors),r=[];n.forEach((function(e){r.push(e.msg+"; ")})),console.log(r),R(r)}else alert("success!"),f(""),g(""),w(1),R([]),e.setNewRestaurant();return t}))}(),e.setNewRestaurant()};return Object(l.jsxs)("div",{className:"card custom-column-50 custom-height-75 padding-10-px",children:[Object(l.jsx)("div",{children:Object(l.jsxs)("form",{onSubmit:function(e){A(e)},children:[Object(l.jsx)("h1",{className:"section-header",children:a}),Object(l.jsx)("label",{htmlFor:"zip",children:"Zip Code"}),Object(l.jsx)("select",{className:"form-select",name:"zip",onChange:function(e){f(e.target.value)},children:i.map((function(e,t){return Object(l.jsx)("option",{value:e,children:e},t)}))}),Object(l.jsx)("label",{htmlFor:"name",children:"Name"}),Object(l.jsx)("input",{onChange:function(e){return g(e.target.value)},type:"text",name:"name",className:"form-control",autoComplete:"off",value:v}),Object(l.jsx)("label",{htmlFor:"name",children:"Restaurant Price Rating (1-5)"}),Object(l.jsx)("input",{onChange:function(e){return w(e.target.value)},type:"text",name:"entree",className:"form-control",autoComplete:"off",value:k}),Object(l.jsx)("input",{type:"submit",className:"btn btn-primary record-submit",value:"Add Restaurant"})]})}),Object(l.jsx)("div",{children:T})]})};var f=function(e){var t=Object(r.useState)(0),n=Object(u.a)(t,2),a=n[0],c=n[1];return Object(l.jsxs)("div",{className:"d-flex flex-row bg-light full-height column-mobile",id:"column-mobile-add",children:[Object(l.jsx)(m,{setNewRestaurant:function(){c(a+1)},token:e.token}),Object(l.jsx)(b,{token:e.token})]})};n(36);function x(e){var t=Object(r.useState)(""),n=Object(u.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(),o=Object(u.a)(s,2),i=o[0],d=o[1],j=function(){var t=Object(p.a)(h.a.mark((function t(){var n,r,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://tipped-server-app.herokuapp.com/api/getPayByZip/"+a,{method:"GET",headers:{Authorization:"Bearer "+e.token}});case 2:return n=t.sent,t.next=5,n.json();case 5:r=t.sent,c=r.average,null!=(c=(Math.round(100*parseFloat(c))/100).toFixed(2))&&"NaN"!=c||(c="unknown"),d(c);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),b=function(e){e.preventDefault(),j()};return"unknown"===i?Object(l.jsxs)("div",{className:"card custom-column-50 custom-height-75 padding-10-px",children:[Object(l.jsx)("div",{children:Object(l.jsxs)("form",{onSubmit:function(e){b(e)},children:[Object(l.jsx)("h1",{className:"section-header",children:"Search By Zip"}),Object(l.jsx)("label",{htmlFor:"zip",children:"Zip"}),Object(l.jsx)("input",{onChange:function(e){return c(e.target.value)},type:"text",name:"zip",className:"form-control",autoComplete:"off",minLength:"5",maxLength:"5",value:a}),Object(l.jsx)("input",{type:"submit",className:"btn btn-primary search-button",value:"Search"})]})}),Object(l.jsx)("div",{className:"text-info",children:"No records from this zip code."})]}):i?Object(l.jsxs)("div",{className:"card custom-column-50 custom-height-75 padding-10-px",children:[Object(l.jsx)("div",{children:Object(l.jsxs)("form",{onSubmit:function(e){b(e)},children:[Object(l.jsx)("h1",{className:"section-header",children:"Search By Zip"}),Object(l.jsx)("label",{htmlFor:"zip",children:"Zip"}),Object(l.jsx)("input",{onChange:function(e){return c(e.target.value)},type:"text",name:"zip",className:"form-control",autoComplete:"off",minLength:"5",maxLength:"5",value:a}),Object(l.jsx)("input",{type:"submit",className:"btn btn-primary search-button",value:"Search"})]})}),Object(l.jsxs)("div",{className:"text-info",children:["Result found: $",i," total compensation per hour"]})]}):Object(l.jsx)("div",{className:"card custom-column-50 custom-height-75 padding-10-px",children:Object(l.jsx)("div",{children:Object(l.jsxs)("form",{onSubmit:function(e){b(e)},children:[Object(l.jsx)("h1",{className:"section-header",children:"Search By Zip"}),Object(l.jsx)("label",{htmlFor:"zip",children:"Zip"}),Object(l.jsx)("input",{onChange:function(e){return c(e.target.value)},type:"text",name:"zip",className:"form-control",autoComplete:"off",minLength:"5",maxLength:"5",value:a}),Object(l.jsx)("input",{type:"submit",className:"btn btn-primary search-button",value:"Search"})]})})})}var O=function(e){var t=Object(r.useState)(""),n=Object(u.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(""),o=Object(u.a)(s,2),i=o[0],d=o[1],j=Object(r.useState)(),b=Object(u.a)(j,2),m=b[0],f=b[1],x=function(){var t=Object(p.a)(h.a.mark((function t(){var n,r,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://tipped-server-app.herokuapp.com/api/getPayByZipAndEntree/"+a+"/"+i,{method:"GET",headers:{Authorization:"Bearer "+e.token}});case 2:return n=t.sent,t.next=5,n.json();case 5:r=t.sent,c=r.average,null!=(c=(Math.round(100*parseFloat(c))/100).toFixed(2))&&"NaN"!=c||(c="unknown"),null==c&&(c="unknown"),c=(Math.round(100*parseFloat(c))/100).toFixed(2),f(c);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),O=function(e){e.preventDefault(),x()};return"unknown"===m?Object(l.jsxs)("div",{className:"card custom-column-50custom-height-75 padding-10-px",children:[Object(l.jsx)("div",{children:Object(l.jsxs)("form",{onSubmit:function(e){O(e)},children:[Object(l.jsx)("h1",{className:"section-header",children:"Search By Zip and Restaurant Price Rating"}),Object(l.jsx)("label",{htmlFor:"Zip",children:"Zip"}),Object(l.jsx)("input",{onChange:function(e){return c(e.target.value)},type:"text",name:"zip",className:"form-control",autoComplete:"off",minLength:"5",maxLength:"5",value:a}),Object(l.jsx)("label",{htmlFor:"entree",children:"Restaurant Price Rating (1-5)"}),Object(l.jsx)("input",{onChange:function(e){return d(e.target.value)},type:"text",name:"entree",className:"form-control",autoComplete:"off",value:i}),Object(l.jsx)("input",{type:"submit",className:"btn btn-primary search-button",value:"Search"})]})}),Object(l.jsx)("div",{className:"text-info",children:"No records from this zip code and restaurant price rating combination."})]}):m?Object(l.jsxs)("div",{className:"card custom-column-50 custom-height-75 padding-10-px",children:[Object(l.jsx)("div",{children:Object(l.jsxs)("form",{onSubmit:function(e){O(e)},children:[Object(l.jsx)("h1",{className:"section-header",children:"Search By Zip and Restaurant Price Rating"}),Object(l.jsx)("label",{htmlFor:"Zip",children:"Zip"}),Object(l.jsx)("input",{onChange:function(e){return c(e.target.value)},type:"text",name:"zip",className:"form-control",autoComplete:"off",minLength:"5",maxLength:"5",value:a}),Object(l.jsx)("label",{htmlFor:"entree",children:"Restaurant Price Rating (1-5)"}),Object(l.jsx)("input",{onChange:function(e){return d(e.target.value)},type:"text",name:"entree",className:"form-control",autoComplete:"off",value:i}),Object(l.jsx)("input",{type:"submit",className:"btn btn-primary search-button",value:"Search"})]})}),Object(l.jsxs)("div",{className:"text-info",children:["Result found: $",m," total compensation per hour"]})]}):Object(l.jsx)("div",{className:"card custom-column-50 custom-height-75 padding-10-px",children:Object(l.jsx)("div",{children:Object(l.jsxs)("form",{onSubmit:function(e){O(e)},children:[Object(l.jsx)("h1",{className:"section-header",children:"Search By Zip and Restaurant Price Rating"}),Object(l.jsx)("label",{htmlFor:"Zip",children:"Zip"}),Object(l.jsx)("input",{onChange:function(e){return c(e.target.value)},type:"text",name:"zip",className:"form-control",autoComplete:"off",minLength:"5",maxLength:"5",value:a}),Object(l.jsx)("label",{htmlFor:"entree",children:"Restaurant Price Rating (1-5)"}),Object(l.jsx)("input",{onChange:function(e){return d(e.target.value)},type:"text",name:"entree",className:"form-control",autoComplete:"off",value:i}),Object(l.jsx)("input",{type:"submit",className:"btn btn-primary search-button",value:"Search"})]})})})};var v=function(e){return Object(l.jsxs)("div",{className:"d-flex flex-row bg-light full-height column-mobile",id:"column-mobile",children:[Object(l.jsx)(x,{token:e.token}),Object(l.jsx)(O,{token:e.token})]})};function g(e){return"NaN"!==e.value.average?Object(l.jsx)("div",{className:"card padding-10-px",children:Object(l.jsxs)("div",{children:[Object(l.jsxs)("p",{children:["Title: ",e.value.title]}),Object(l.jsxs)("p",{children:["Restaurant: ",e.value.restaurant]}),Object(l.jsxs)("p",{children:["Location: ",e.value.location]}),Object(l.jsx)("a",{href:e.value.url,children:" Apply/Description "}),Object(l.jsxs)("p",{children:["Average pay for the zip code: $",e.value.average]})]},e.index)}):Object(l.jsx)("div",{className:"card padding-10-px",children:Object(l.jsxs)("div",{children:[Object(l.jsxs)("p",{children:["Title: ",e.value.title]}),Object(l.jsxs)("p",{children:["Restaurant: ",e.value.restaurant]}),Object(l.jsxs)("p",{children:["Location: ",e.value.location]}),Object(l.jsx)("a",{href:e.value.url,children:" Apply/Description "})]},e.index)})}n.e(0).then(n.t.bind(null,42,7)),n.e(0).then(n.t.bind(null,42,7));var y=function(e){var t=Object(r.useState)([""]),n=Object(u.a)(t,2),a=n[0],c=n[1];Object(r.useEffect)((function(){s()}),[]);var s=function(){var t=Object(p.a)(h.a.mark((function t(){var n,r,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://tipped-server-app.herokuapp.com/api/scraper",{method:"GET",headers:{Authorization:"Bearer "+e.token}});case 2:return n=t.sent,t.next=5,n.json();case 5:r=t.sent,a=[],Array.from(r.jobs).forEach((function(e){var t=(Math.round(100*parseFloat(e.average))/100).toFixed(2),n={title:e.title,restaurant:e.restaurant,location:e.location,url:e.url,average:t};a.push(n)})),c(a);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(l.jsxs)("div",{className:"d-flex justify-content-center bg-light column-mobile",id:"column-mobile-jobs",children:[Object(l.jsxs)("div",{className:"padding-10-px custom-column-50",children:[Object(l.jsx)("h1",{children:"Now Hiring - 10 great jobs!"}),Object(l.jsx)("p",{children:"These jobs are hiring now!"})]}),Object(l.jsx)("div",{className:"custom-column-50",children:a.map((function(t,n){return Object(l.jsx)(g,{index:n,value:t,token:e.token},7*n)}))})]})};var N=function(e){Object(r.useEffect)((function(){j(),b()}),[]);var t=Object(r.useState)([]),n=Object(u.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)([]),o=Object(u.a)(s,2),i=o[0],d=o[1],j=function(){var t=Object(p.a)(h.a.mark((function t(){var n,r,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://tipped-server-app.herokuapp.com/api/getTopFiveZips",{method:"GET",headers:{Authorization:"Bearer "+e.token}});case 2:return n=t.sent,t.next=5,n.json();case 5:r=t.sent,a=[],Array.from(r).forEach((function(e){a.push([e.zip,e.average])})),c(a);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),b=function(){var t=Object(p.a)(h.a.mark((function t(){var n,r,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://tipped-server-app.herokuapp.com/api/getAllPayByEntree",{method:"GET",headers:{Authorization:"Bearer "+e.token}});case 2:return n=t.sent,t.next=5,n.json();case 5:r=t.sent,a=[],Array.from(r).forEach((function(e){a.push([e.entree_price,e.average])})),d(a);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(l.jsxs)("div",{className:"d-flex bg-light full-height column-mobile",children:[Object(l.jsx)("div",{className:"custom-column-50 padding-10-px",children:Object(l.jsx)("h1",{children:"Welcome to Omaha Tips"})}),Object(l.jsxs)("div",{className:"custom-column-50",children:[Object(l.jsxs)("div",{className:"card padding-10-px",children:[Object(l.jsx)("h3",{className:"card-title",children:"Top 5 Zip Codes for Total Hourly Compensation"}),Object(l.jsx)("div",{className:"card-body",children:a.map((function(e,t){return Object(l.jsxs)("div",{children:[e[0]," | Average Pay: $",e[1]]},t)}))})]}),Object(l.jsxs)("div",{className:"card padding-10-px",children:[Object(l.jsx)("h3",{className:"card-title",children:"Total Hourly Compensation by Restaurant Price Rating"}),Object(l.jsx)("div",{className:"card-body",children:i.map((function(e,t){return Object(l.jsxs)("div",{children:["Price Rating: ",e[0]," | Average Pay: $",e[1]]},t)}))})]})]})]})};n(17);function k(e){return w.apply(this,arguments)}function w(){return(w=Object(p.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://tipped-server-app.herokuapp.com/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){var t=Object(r.useState)(),n=Object(u.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(),o=Object(u.a)(s,2),i=o[0],d=o[1],j=Object(r.useState)(""),b=Object(u.a)(j,2),m=b[0],f=b[1],x=function(){var t=Object(p.a)(h.a.mark((function t(n){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,k({username:a,password:i});case 3:(r=t.sent).error&&f(r.error),e.setToken(r);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(l.jsxs)("div",{className:"login-signup",children:[Object(l.jsxs)("form",{onSubmit:x,children:[Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{htmlFor:"username",children:"Username"}),Object(l.jsx)("input",{type:"text",name:"username",className:"form-control",onChange:function(e){return c(e.target.value)}}),Object(l.jsx)("label",{htmlFor:"password",children:"Password"}),Object(l.jsx)("input",{type:"password",className:"form-control",onChange:function(e){return d(e.target.value)}})]}),Object(l.jsxs)("div",{className:"login-signup-button",children:[Object(l.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Log In"}),Object(l.jsxs)("div",{className:"switch-to-sign-up",children:[Object(l.jsx)("span",{className:"no-account",children:"No Account? "}),Object(l.jsx)("a",{className:"sign-up-link no-account",onClick:e.toggle,children:"Sign Up"})]}),Object(l.jsx)("div",{className:"switch-to-sign-up-mobile",children:Object(l.jsx)("a",{className:"sign-up-link no-account",onClick:e.toggle,children:"No Account?"})})]})]}),Object(l.jsx)("div",{className:"text-danger",children:m})]})}function C(e){return T.apply(this,arguments)}function T(){return(T=Object(p.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://tipped-server-app.herokuapp.com/api/createNewUser",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e){var t=Object(r.useState)(),n=Object(u.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(),o=Object(u.a)(s,2),i=o[0],d=o[1],j=Object(r.useState)(""),b=Object(u.a)(j,2),m=b[0],f=b[1],x=function(){var t=Object(p.a)(h.a.mark((function t(n){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,C({username:a,password:i});case 3:(r=t.sent).error&&f(r.error),e.setToken(r);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(l.jsxs)("div",{className:"login-signup",children:[Object(l.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(l.jsx)("h3",{children:"Sign Up"}),Object(l.jsx)("button",{className:"btn btn-outline-link",onClick:e.toggle,children:"Back"})]}),Object(l.jsxs)("form",{onSubmit:x,children:[Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{htmlFor:"username",children:"Username"}),Object(l.jsx)("input",{type:"text",name:"username",className:"form-control",onChange:function(e){return c(e.target.value)}}),Object(l.jsx)("label",{htmlFor:"password",children:"Password"}),Object(l.jsx)("input",{type:"password",className:"form-control",onChange:function(e){return d(e.target.value)}})]}),Object(l.jsx)("div",{className:"login-signup-button",children:Object(l.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Submit"})})]}),Object(l.jsx)("div",{className:"text-danger",children:m})]})}function z(e){var t=Object(r.useState)(!1),n=Object(u.a)(t,2),a=n[0],c=n[1],s=function(){c(!0!==a)};return a?Object(l.jsx)("div",{className:"main-login-section d-flex flex-column justify-content-center",id:"login-box-2",children:Object(l.jsx)(R,{setToken:e.setToken,toggle:s})}):Object(l.jsxs)("div",{className:"main-login-section d-flex flex-column justify-content-center",id:"login-box",children:[Object(l.jsxs)("div",{className:"border-bottom",children:[Object(l.jsx)("h2",{className:"title d-flex justify-content-around",children:"Omaha Tips"}),Object(l.jsx)("h6",{className:"subheading",children:"For servers in the Omaha, NE metro area to view unofficial pay stats for area restaurants."})]}),Object(l.jsx)(S,{setToken:e.setToken,toggle:s})]})}n(37);function A(e){return Object(l.jsx)("div",{className:"card padding-10-px",children:Object(l.jsxs)("div",{className:"card-body",children:[Object(l.jsxs)("p",{children:["Pay Record Id: ",e.value.id]}),Object(l.jsxs)("p",{children:["Hourly Pay: ",e.value.hourly]}),Object(l.jsxs)("p",{children:["Weekly Tips: ",e.value.tips]}),Object(l.jsxs)("p",{children:["Weekly Hours: ",e.value.hours]}),Object(l.jsxs)("p",{children:["Restaurant: ",e.value.restaurantName]}),Object(l.jsxs)("div",{className:"d-flex justify-content-around",children:[Object(l.jsx)("button",{className:"btn btn-primary",onClick:function(){var t={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.token},body:JSON.stringify({payid:e.value.id})};fetch("https://tipped-server-app.herokuapp.com/api/deletePay",t).then((function(e){return e.json()})).then((function(t){if(void 0!=t.errors){var n=Array.from(t.errors),r=[];n.forEach((function(e){r.push(e.msg+"; ")})),alert(r)}else e.increaseDeleteCount(),alert("success!");return t}))},children:"Delete"}),Object(l.jsx)("button",{className:"btn btn-primary",onClick:function(){e.increaseUpdateCount(e.value)},children:"Update"})]})]},e.index)})}function F(e){Object(r.useEffect)((function(){S()}),[]);var t=Object(r.useState)(e.value.hourly),n=Object(u.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(e.value.tips),o=Object(u.a)(s,2),i=o[0],d=o[1],j=Object(r.useState)(e.value.hours),b=Object(u.a)(j,2),m=b[0],f=b[1],x=Object(r.useState)(e.value.restaurant),O=Object(u.a)(x,2),v=O[0],g=O[1],y=Object(r.useState)([]),N=Object(u.a)(y,2),k=N[0],w=N[1],S=function(){var t=Object(p.a)(h.a.mark((function t(){var n,r,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://tipped-server-app.herokuapp.com/api/createPay",{method:"GET",headers:{Authorization:"Bearer "+e.token}});case 2:return n=t.sent,t.next=5,n.json();case 5:r=t.sent,a=[],Array.from(r.restaurants).forEach((function(e){var t={id:e._id,zip:e.zip,name:e.name,price:e.entree_price};a.push(t)})),w(a);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),C=function(t){t.preventDefault(),function(){var t={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.token},body:JSON.stringify({hourly_pay:a,weekly_tips:i,weekly_hours:m,restaurant:v,payid:e.value.id})};console.log(t),fetch("https://tipped-server-app.herokuapp.com/api/updatePay",t).then((function(e){return e.json()})).then((function(t){if(void 0!=t.errors){var n=Array.from(t.errors),r=[];n.forEach((function(e){r.push(e.msg+"; ")})),alert(r)}else alert("success!"),e.resetUpdateValue();return console.log(t),t}))}()};return Object(l.jsxs)("div",{className:"d-flex flex-row bg-light full-height ",id:"column-mobile-myrecords-update",children:[Object(l.jsx)("div",{className:"card custom-column-50 custom-height-75",children:Object(l.jsx)("div",{className:"card-body",children:Object(l.jsxs)("form",{onSubmit:function(e){C(e)},children:[Object(l.jsx)("h1",{className:"section-header",children:"Update"}),Object(l.jsx)("label",{htmlFor:"hourly",children:"Hourly"}),Object(l.jsx)("input",{onChange:function(e){return c(e.target.value)},type:"number",name:"hourly",className:"form-control",autoComplete:"off",min:"1",value:a}),Object(l.jsx)("label",{htmlFor:"weekly tips",children:"Weekly Tips"}),Object(l.jsx)("input",{onChange:function(e){return d(e.target.value)},type:"number",name:"weekly tips",className:"form-control",autoComplete:"off",min:"1",value:i}),Object(l.jsx)("label",{htmlFor:"weekly hours",children:"Weekly Hours"}),Object(l.jsx)("input",{onChange:function(e){return f(e.target.value)},type:"number",name:"weekly hours",className:"form-control",autoComplete:"off",min:"1",value:m}),Object(l.jsx)("label",{htmlFor:"Restaurant",children:"Restaurant"}),Object(l.jsx)("select",{className:"form-select",name:"restaurant",onChange:function(e){g(e.target.value)},value:v,children:k.map((function(e,t){return Object(l.jsxs)("option",{value:e.id,children:[e.name," | ",e.zip]},t)}))}),Object(l.jsxs)("div",{className:"d-flex justify-content-around",children:[Object(l.jsx)("input",{type:"submit",className:"btn btn-primary record-submit",value:"Change Pay Record"}),Object(l.jsx)("button",{className:"btn btn-secondary record-submit",onClick:e.resetUpdateValue,children:"Cancel"})]})]})})}),Object(l.jsx)("div",{className:"card custom-column-50 custom-height-75",children:Object(l.jsxs)("div",{className:"card-body",children:[Object(l.jsx)("h1",{children:"Original"}),Object(l.jsxs)("p",{children:["Pay Record Id: ",e.value.id]}),Object(l.jsxs)("p",{children:["Hourly Pay: ",e.value.hourly]}),Object(l.jsxs)("p",{children:["Weekly Tips: ",e.value.tips]}),Object(l.jsxs)("p",{children:["Weekly Hours: ",e.value.hours]}),Object(l.jsxs)("p",{children:["Restaurant: ",e.value.restaurantName]})]})})]})}n(38);function P(e){var t=Object(r.useState)(0),n=Object(u.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)({}),o=Object(u.a)(s,2),i=o[0],d=o[1],j=Object(r.useState)([{}]),b=Object(u.a)(j,2),m=b[0],f=b[1];Object(r.useEffect)((function(){v()}),[a,i]);var x=function(){c(a+1)};function O(e){console.log(i.id),console.log(e.id),i.id&&i.id==e.id?d({}):d(e)}var v=function(){var t=Object(p.a)(h.a.mark((function t(){var n,r,a,c,s,o;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://tipped-server-app.herokuapp.com/api/getRestaurants",{method:"GET",headers:{Authorization:"Bearer "+e.token}});case 2:return n=t.sent,t.next=5,n.json();case 5:return r=t.sent,a=[],Array.from(r).forEach((function(e){var t={id:e._id,zip:e.zip_code,name:e.name,price:e.entree_price};a.push(t)})),t.next=10,fetch("https://tipped-server-app.herokuapp.com/api/allPayByUser",{method:"GET",headers:{Authorization:"Bearer "+e.token}});case 10:return c=t.sent,t.next=13,c.json();case 13:s=t.sent,o=[],Array.from(s).forEach((function(e){var t="";a.forEach((function(n){e.restaurant==n.id&&(t=n.name)}));var n={id:e._id,hourly:e.hourly_pay,tips:e.weekly_tips,hours:e.weekly_hours,restaurant:e.restaurant,user:e.user,restaurantName:t};o.push(n)})),f(o);case 17:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return i.id?Object(l.jsx)("div",{children:Object(l.jsx)(F,{value:i,token:e.token,resetUpdateValue:function(){d({})}})}):Object(l.jsxs)("div",{className:"d-flex flex-row bg-light column-mobile",id:"column-mobile-myrecords",children:[Object(l.jsxs)("div",{className:"custom-column-50 padding-10-px",children:[Object(l.jsx)("h1",{children:"Current Records"}),Object(l.jsx)("p",{children:"These are all of your current records in our database, feel free to update or delete any of them"})]}),Object(l.jsx)("div",{className:"custom-column-50",children:m.map((function(t,n){return Object(l.jsx)(A,{index:n,value:t,token:e.token,increaseDeleteCount:x,increaseUpdateCount:O})}))})]})}n(39);var E=function(){var e=function(){var e=Object(r.useState)(function(){var e=sessionStorage.getItem("token"),t=JSON.parse(e);return null===t||void 0===t?void 0:t.token}()),t=Object(u.a)(e,2),n=t[0],a=t[1];return{setToken:function(e){sessionStorage.setItem("token",JSON.stringify(e)),a(e.token)},token:n}}(),t=e.token,n=e.setToken;return t?Object(l.jsxs)(o.a,{basename:"/frontend-tipped-server-app",children:[Object(l.jsx)(d,{setToken:n}),Object(l.jsxs)(i.c,{children:[Object(l.jsx)(i.a,{path:"/",exact:!0,render:function(e){return Object(l.jsx)(N,{token:t})}}),Object(l.jsx)(i.a,{path:"/addRecord",exact:!0,render:function(e){return Object(l.jsx)(f,{token:t})}}),Object(l.jsx)(i.a,{path:"/jobs",exact:!0,render:function(e){return Object(l.jsx)(y,{token:t})}}),Object(l.jsx)(i.a,{path:"/stats-search",exact:!0,render:function(e){return Object(l.jsx)(v,{token:t})}}),Object(l.jsx)(i.a,{path:"/myRecords",exact:!0,render:function(e){return Object(l.jsx)(P,{token:t})}})]})]}):Object(l.jsxs)("div",{className:"row log-in-page",children:[Object(l.jsx)("div",{className:"col"}),Object(l.jsx)("div",{className:"col log-in-column justify-content-space-around",children:Object(l.jsx)(z,{setToken:n})}),Object(l.jsx)("div",{className:"col"})]})},B=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,43)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};n(40);s.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(E,{})}),document.getElementById("root")),B()}},[[41,2,3]]]);
//# sourceMappingURL=main.4a5bfdcf.chunk.js.map